<mat-toolbar color="primary" class="app-toolbar">
  <span class="app-title" routerLink='/'>
    <mat-icon class="app-icon" aria-hidden="true">confirmation_number</mat-icon>
    {{ appTitle() }}
  </span>
  <span class="spacer"></span>

  <nav class="nav-buttons">
    @if (hasAttendeeRole()) {
    <a mat-button routerLink="/attendee/tickets" routerLinkActive="active">
      <mat-icon aria-hidden="true">confirmation_number</mat-icon>
      <span>My Tickets</span>
    </a>
    }
    @if (hasOrganizerRole()) {
    <a mat-button routerLink="/organizer/events" routerLinkActive="active">
      <mat-icon aria-hidden="true">event_available</mat-icon>
      <span>Manage Events</span>
    </a>
    }
  <a mat-button routerLink="/organizer/home" routerLinkActive="active">
      <mat-icon aria-hidden="true">event_note</mat-icon>
      <span>Organizer Home</span>
    </a>
    <a mat-button routerLink="/staff/home" routerLinkActive="active">
      <mat-icon aria-hidden="true">support_agent</mat-icon>
      <span>Staff Home</span>
    </a>

    <!-- Auth actions: show Login when not authenticated, User menu when authenticated -->
    @if (!isAuthenticated()) {
    <button mat-stroked-button (click)="login()">
      <mat-icon aria-hidden="true">login</mat-icon>
      <span>Login</span>
    </button>
    } @else {
    <button mat-stroked-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
      <span class="username">{{ userName() }}</span>
      <mat-icon aria-hidden="true" class="account-icon">account_circle</mat-icon>
      <mat-icon aria-hidden="true" class="arrow-icon">arrow_drop_down</mat-icon>
    </button>
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
    }
  </nav>
</mat-toolbar>
